2026-01-01 00:24:31 - app.main - INFO - Starting Telegram AI Bot...
2026-01-01 00:24:31 - app.database.connection - INFO - Connected to database: telegram_bot.db
2026-01-01 00:24:31 - app.main - INFO - Database connected
2026-01-01 00:24:33 - app.services.ai_service - INFO - AI Service initialized with provider: g4f
2026-01-01 00:24:33 - app.main - INFO - Application startup completed
2026-01-01 00:24:33 - app.main - INFO - Starting bot polling...
2026-01-01 00:24:45 - app.database.repository - INFO - New user created: 6807620095 (Ibrohim_1507)
2026-01-01 00:25:13 - app.services.ai_service - WARNING - Model gpt-3.5-turbo failed: Model not found: gpt-3.5-turbo
2026-01-01 00:25:17 - app.services.ai_service - INFO - Successfully generated response using gpt-4
2026-01-01 00:25:56 - app.services.ai_service - WARNING - Model gpt-3.5-turbo failed: Model not found: gpt-3.5-turbo
2026-01-01 00:25:59 - app.services.ai_service - INFO - Successfully generated response using gpt-4
2026-01-01 00:26:37 - app.services.ai_service - WARNING - Model gpt-3.5-turbo failed: Model not found: gpt-3.5-turbo
2026-01-01 00:26:42 - app.services.ai_service - INFO - Successfully generated response using gpt-4
2026-01-01 00:28:02 - app.database.repository - INFO - Conversation cleared for user 1
2026-01-01 00:29:02 - aiogram.event - ERROR - Cause exception while process update id=492322874 by bot id=8589621495
TypeError: error_handler() missing 1 required positional argument: 'exception'
Traceback (most recent call last):
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiohttp\client.py", line 779, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiohttp\client.py", line 734, in _connect_and_send_request
    conn = await self._connector.connect(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        req, traces=traces, timeout=real_timeout
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiohttp\connector.py", line 642, in connect
    proto = await self._create_connection(req, traces, timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiohttp\connector.py", line 1209, in _create_connection
    _, proto = await self._create_direct_connection(req, traces, timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiohttp\connector.py", line 1550, in _create_direct_connection
    transp, proto = await self._wrap_create_connection(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiohttp\connector.py", line 1283, in _wrap_create_connection
    return await self._loop.create_connection(*args, **kwargs, sock=sock)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\AppData\Local\Programs\Python\Python314\Lib\asyncio\base_events.py", line 1198, in create_connection
    transport, protocol = await self._create_connection_transport(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        ssl_shutdown_timeout=ssl_shutdown_timeout)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\AppData\Local\Programs\Python\Python314\Lib\asyncio\base_events.py", line 1231, in _create_connection_transport
    await waiter
asyncio.exceptions.CancelledError

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\client\session\aiohttp.py", line 167, in make_request
    async with session.post(
               ~~~~~~~~~~~~^
        url,
        ^^^^
        data=form,
        ^^^^^^^^^^
        timeout=self.timeout if timeout is None else timeout,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ) as resp:
    ^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiohttp\client.py", line 1510, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiohttp\client.py", line 624, in _request
    with timer:
         ^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiohttp\helpers.py", line 713, in __exit__
    raise asyncio.TimeoutError from exc_val
TimeoutError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 58, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\fsm\middleware.py", line 43, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 126, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 283, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 161, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 153, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 189, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 161, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 153, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 181, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 126, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\app\handlers\router.py", line 122, in stats_handler
    await message.answer(stats_text)
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\methods\base.py", line 84, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\client\bot.py", line 485, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\client\session\base.py", line 259, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\client\session\aiohttp.py", line 174, in make_request
    raise TelegramNetworkError(method=method, message="Request timeout error")
aiogram.exceptions.TelegramNetworkError: HTTP Client says - Request timeout error

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 320, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 164, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 31, in __call__
    response = await self.router.propagate_event(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 161, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 153, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 189, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 161, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 153, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 181, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 126, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
                 ~~~~~~~^^
TypeError: error_handler() missing 1 required positional argument: 'exception'
2026-01-01 00:29:02 - aiogram.event - ERROR - Cause exception while process update id=492322875 by bot id=8589621495
TypeError: error_handler() missing 1 required positional argument: 'exception'
Traceback (most recent call last):
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiohttp\connector.py", line 1283, in _wrap_create_connection
    return await self._loop.create_connection(*args, **kwargs, sock=sock)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\AppData\Local\Programs\Python\Python314\Lib\asyncio\base_events.py", line 1198, in create_connection
    transport, protocol = await self._create_connection_transport(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        ssl_shutdown_timeout=ssl_shutdown_timeout)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\AppData\Local\Programs\Python\Python314\Lib\asyncio\base_events.py", line 1231, in _create_connection_transport
    await waiter
ConnectionAbortedError: SSL handshake is taking longer than 60.0 seconds: aborting the connection

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\client\session\aiohttp.py", line 167, in make_request
    async with session.post(
               ~~~~~~~~~~~~^
        url,
        ^^^^
        data=form,
        ^^^^^^^^^^
        timeout=self.timeout if timeout is None else timeout,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ) as resp:
    ^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiohttp\client.py", line 1510, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiohttp\client.py", line 779, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiohttp\client.py", line 734, in _connect_and_send_request
    conn = await self._connector.connect(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        req, traces=traces, timeout=real_timeout
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiohttp\connector.py", line 642, in connect
    proto = await self._create_connection(req, traces, timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiohttp\connector.py", line 1209, in _create_connection
    _, proto = await self._create_direct_connection(req, traces, timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiohttp\connector.py", line 1581, in _create_direct_connection
    raise last_exc
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiohttp\connector.py", line 1550, in _create_direct_connection
    transp, proto = await self._wrap_create_connection(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiohttp\connector.py", line 1291, in _wrap_create_connection
    raise client_error(req.connection_key, exc) from exc
aiohttp.client_exceptions.ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [None]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 58, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\fsm\middleware.py", line 43, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 126, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 283, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 161, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 153, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 189, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 161, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 153, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 181, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 126, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\app\handlers\router.py", line 93, in clear_handler
    await message.answer(
    ...<3 lines>...
    )
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\methods\base.py", line 84, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\client\bot.py", line 485, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\client\session\base.py", line 259, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\client\session\aiohttp.py", line 176, in make_request
    raise TelegramNetworkError(method=method, message=f"{type(e).__name__}: {e}")
aiogram.exceptions.TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [None]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 320, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 164, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 31, in __call__
    response = await self.router.propagate_event(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 161, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 153, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 189, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 161, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 153, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 181, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 126, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
                 ~~~~~~~^^
TypeError: error_handler() missing 1 required positional argument: 'exception'
2026-01-01 00:29:03 - aiogram.event - ERROR - Cause exception while process update id=492322877 by bot id=8589621495
TypeError: error_handler() missing 1 required positional argument: 'exception'
Traceback (most recent call last):
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiohttp\client_reqrep.py", line 539, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiohttp\streams.py", line 680, in read
    await self._waiter
asyncio.exceptions.CancelledError

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\client\session\aiohttp.py", line 167, in make_request
    async with session.post(
               ~~~~~~~~~~~~^
        url,
        ^^^^
        data=form,
        ^^^^^^^^^^
        timeout=self.timeout if timeout is None else timeout,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ) as resp:
    ^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiohttp\client.py", line 1510, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiohttp\client.py", line 779, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiohttp\client.py", line 757, in _connect_and_send_request
    await resp.start(conn)
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiohttp\client_reqrep.py", line 534, in start
    with self._timer:
         ^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiohttp\helpers.py", line 713, in __exit__
    raise asyncio.TimeoutError from exc_val
TimeoutError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 58, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\fsm\middleware.py", line 43, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 126, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 283, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 161, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 153, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 189, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 161, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 153, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 181, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 126, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\app\handlers\router.py", line 163, in message_handler
    await message.bot.send_chat_action(
    ...<2 lines>...
    )
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\client\bot.py", line 2353, in send_chat_action
    return await self(call, request_timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\client\bot.py", line 485, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\client\session\base.py", line 259, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\client\session\aiohttp.py", line 174, in make_request
    raise TelegramNetworkError(method=method, message="Request timeout error")
aiogram.exceptions.TelegramNetworkError: HTTP Client says - Request timeout error

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 320, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 164, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 31, in __call__
    response = await self.router.propagate_event(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 161, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 153, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 189, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 161, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 153, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 181, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 126, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
                 ~~~~~~~^^
TypeError: error_handler() missing 1 required positional argument: 'exception'
2026-01-01 00:29:14 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
2026-01-01 00:29:14 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8589621495)
2026-01-01 00:30:31 - app.services.ai_service - WARNING - Model gpt-3.5-turbo failed: Model not found: gpt-3.5-turbo
2026-01-01 00:30:34 - app.services.ai_service - INFO - Successfully generated response using gpt-4
2026-01-01 00:31:21 - app.services.ai_service - WARNING - Model gpt-3.5-turbo failed: Model not found: gpt-3.5-turbo
2026-01-01 00:31:26 - app.services.ai_service - INFO - Successfully generated response using gpt-4
2026-01-01 00:31:52 - app.main - INFO - Received signal 2, initiating shutdown...
2026-01-01 00:31:58 - app.main - INFO - Received signal 2, initiating shutdown...
2026-01-01 00:32:02 - app.main - INFO - Received signal 2, initiating shutdown...
2026-01-01 00:32:03 - app.main - INFO - Received signal 2, initiating shutdown...
2026-01-01 00:32:03 - app.main - INFO - Received signal 2, initiating shutdown...
2026-01-01 00:32:04 - app.main - INFO - Received signal 2, initiating shutdown...
2026-01-01 00:32:05 - app.main - INFO - Received signal 2, initiating shutdown...
2026-01-01 00:32:05 - app.main - INFO - Received signal 2, initiating shutdown...
2026-01-01 00:32:05 - app.main - INFO - Received signal 2, initiating shutdown...
2026-01-01 00:32:06 - app.main - INFO - Received signal 2, initiating shutdown...
2026-01-01 00:32:06 - app.main - INFO - Received signal 2, initiating shutdown...
2026-01-01 00:32:07 - app.main - INFO - Received signal 2, initiating shutdown...
2026-01-01 00:32:07 - app.main - INFO - Received signal 2, initiating shutdown...
2026-01-01 00:32:07 - app.main - INFO - Received signal 2, initiating shutdown...
2026-01-01 00:32:07 - app.main - INFO - Received signal 2, initiating shutdown...
2026-01-01 00:32:07 - app.main - INFO - Received signal 2, initiating shutdown...
2026-01-01 00:32:07 - app.main - INFO - Received signal 2, initiating shutdown...
2026-01-01 00:32:07 - app.main - INFO - Received signal 2, initiating shutdown...
2026-01-01 00:32:14 - app.main - INFO - Received signal 2, initiating shutdown...
2026-01-01 00:33:03 - app.main - INFO - Starting Telegram AI Bot...
2026-01-01 00:33:03 - app.database.connection - INFO - Connected to database: telegram_bot.db
2026-01-01 00:33:03 - app.main - INFO - Database connected
2026-01-01 00:33:05 - app.services.ai_service - INFO - AI Service initialized with provider: g4f
2026-01-01 00:33:05 - app.main - INFO - Application startup completed
2026-01-01 00:33:05 - app.main - INFO - Starting bot polling...
2026-01-01 00:33:19 - app.services.ai_service - WARNING - Model gpt-3.5-turbo failed: Model not found: gpt-3.5-turbo
2026-01-01 00:33:23 - app.services.ai_service - INFO - Successfully generated response using gpt-4
2026-01-01 00:33:33 - app.services.ai_service - WARNING - Model gpt-3.5-turbo failed: Model not found: gpt-3.5-turbo
2026-01-01 00:33:38 - app.services.ai_service - INFO - Successfully generated response using gpt-4
2026-01-01 00:34:05 - app.services.ai_service - WARNING - Model gpt-3.5-turbo failed: Model not found: gpt-3.5-turbo
2026-01-01 00:34:08 - app.services.ai_service - INFO - Successfully generated response using gpt-4
2026-01-01 00:34:49 - app.services.ai_service - WARNING - Model gpt-3.5-turbo failed: Model not found: gpt-3.5-turbo
2026-01-01 00:34:53 - app.services.ai_service - INFO - Successfully generated response using gpt-4
2026-01-01 00:37:58 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [WinError 121] Превышен таймаут семафора
2026-01-01 00:37:58 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8589621495)
2026-01-01 00:38:06 - app.database.connection - ERROR - Database error: UNIQUE constraint failed: users.telegram_id
2026-01-01 00:38:06 - aiogram.event - ERROR - Cause exception while process update id=492322887 by bot id=8589621495
TypeError: error_handler() missing 1 required positional argument: 'exception'
Traceback (most recent call last):
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 58, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\fsm\middleware.py", line 43, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 126, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 283, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 161, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 153, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 189, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 161, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 153, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 181, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 126, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "c:\Users\user\Desktop\my_bots\Новая папка (2)\app\handlers\router.py", line 43, in start_handler
    user = await user_repo.get_or_create_user(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
    )
    ^
  File "c:\Users\user\Desktop\my_bots\Новая папка (2)\app\database\repository.py", line 31, in get_or_create_user
    await self.db.execute(
    ...<2 lines>...
    )
  File "c:\Users\user\Desktop\my_bots\Новая папка (2)\app\database\connection.py", line 88, in execute
    cursor = await conn.execute(query, params)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiosqlite\core.py", line 223, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiosqlite\core.py", line 160, in _execute
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiosqlite\core.py", line 63, in _connection_worker_thread
    result = function()
sqlite3.IntegrityError: UNIQUE constraint failed: users.telegram_id

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 320, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 164, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 31, in __call__
    response = await self.router.propagate_event(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 161, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 153, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 189, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 161, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 153, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 181, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 126, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
                 ~~~~~~~^^
TypeError: error_handler() missing 1 required positional argument: 'exception'
2026-01-01 00:38:07 - app.database.repository - INFO - New user created: 7948628828 (ibrohim_coder_it)
2026-01-01 00:39:07 - aiogram.event - ERROR - Cause exception while process update id=492322886 by bot id=8589621495
TypeError: error_handler() missing 1 required positional argument: 'exception'
Traceback (most recent call last):
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiohttp\client.py", line 779, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiohttp\client.py", line 734, in _connect_and_send_request
    conn = await self._connector.connect(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        req, traces=traces, timeout=real_timeout
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiohttp\connector.py", line 642, in connect
    proto = await self._create_connection(req, traces, timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiohttp\connector.py", line 1209, in _create_connection
    _, proto = await self._create_direct_connection(req, traces, timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiohttp\connector.py", line 1550, in _create_direct_connection
    transp, proto = await self._wrap_create_connection(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiohttp\connector.py", line 1283, in _wrap_create_connection
    return await self._loop.create_connection(*args, **kwargs, sock=sock)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\AppData\Local\Programs\Python\Python314\Lib\asyncio\base_events.py", line 1198, in create_connection
    transport, protocol = await self._create_connection_transport(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        ssl_shutdown_timeout=ssl_shutdown_timeout)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\AppData\Local\Programs\Python\Python314\Lib\asyncio\base_events.py", line 1231, in _create_connection_transport
    await waiter
asyncio.exceptions.CancelledError

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\client\session\aiohttp.py", line 167, in make_request
    async with session.post(
               ~~~~~~~~~~~~^
        url,
        ^^^^
        data=form,
        ^^^^^^^^^^
        timeout=self.timeout if timeout is None else timeout,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ) as resp:
    ^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiohttp\client.py", line 1510, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiohttp\client.py", line 624, in _request
    with timer:
         ^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiohttp\helpers.py", line 713, in __exit__
    raise asyncio.TimeoutError from exc_val
TimeoutError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 58, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\fsm\middleware.py", line 43, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 126, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 283, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 161, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 153, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 189, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 161, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 153, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 181, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 126, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "c:\Users\user\Desktop\my_bots\Новая папка (2)\app\handlers\router.py", line 59, in start_handler
    await message.answer(welcome_text)
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\methods\base.py", line 84, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\client\bot.py", line 485, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\client\session\base.py", line 259, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\client\session\aiohttp.py", line 174, in make_request
    raise TelegramNetworkError(method=method, message="Request timeout error")
aiogram.exceptions.TelegramNetworkError: HTTP Client says - Request timeout error

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 320, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 164, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
    )
    ^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 31, in __call__
    response = await self.router.propagate_event(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 161, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 153, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 189, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 161, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 153, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\router.py", line 181, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 126, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\user\Desktop\my_bots\Новая папка (2)\env\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
                 ~~~~~~~^^
TypeError: error_handler() missing 1 required positional argument: 'exception'
2026-01-01 00:39:21 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - Request timeout error
2026-01-01 00:39:21 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8589621495)
2026-01-01 00:39:23 - app.services.ai_service - WARNING - Model gpt-3.5-turbo failed: Model not found: gpt-3.5-turbo
2026-01-01 00:39:27 - app.services.ai_service - INFO - Successfully generated response using gpt-4
2026-01-01 00:39:42 - app.services.ai_service - WARNING - Model gpt-3.5-turbo failed: Model not found: gpt-3.5-turbo
2026-01-01 00:39:44 - app.services.ai_service - INFO - Successfully generated response using gpt-4
2026-01-01 00:40:02 - app.services.ai_service - WARNING - Model gpt-3.5-turbo failed: Model not found: gpt-3.5-turbo
2026-01-01 00:40:16 - app.services.ai_service - INFO - Successfully generated response using gpt-4
2026-01-01 00:40:35 - app.services.ai_service - WARNING - Model gpt-3.5-turbo failed: Model not found: gpt-3.5-turbo
2026-01-01 00:40:38 - app.services.ai_service - INFO - Successfully generated response using gpt-4
2026-01-01 00:41:41 - app.database.repository - INFO - Conversation cleared for user 2
2026-01-01 00:42:33 - app.main - INFO - Received signal 2, initiating shutdown...
2026-01-01 00:42:36 - app.main - INFO - Received signal 2, initiating shutdown...
2026-01-01 00:42:38 - app.main - INFO - Received signal 2, initiating shutdown...
2026-01-01 00:43:13 - app.main - INFO - Starting Telegram AI Bot...
2026-01-01 00:43:13 - app.database.connection - INFO - Connected to database: telegram_bot.db
2026-01-01 00:43:13 - app.main - INFO - Database connected
2026-01-01 00:43:14 - app.services.ai_service - INFO - AI Service initialized with provider: g4f
2026-01-01 00:43:14 - app.main - INFO - Application startup completed
2026-01-01 00:43:14 - app.main - INFO - Starting bot polling...
2026-01-01 00:43:32 - app.services.ai_service - WARNING - Model gpt-3.5-turbo failed: Model not found: gpt-3.5-turbo
2026-01-01 00:43:34 - app.services.ai_service - INFO - Successfully generated response using gpt-4
2026-01-01 00:43:38 - app.services.ai_service - WARNING - Model gpt-3.5-turbo failed: Model not found: gpt-3.5-turbo
2026-01-01 00:43:42 - app.services.ai_service - INFO - Successfully generated response using gpt-4
2026-01-01 00:44:26 - app.services.ai_service - WARNING - Model gpt-3.5-turbo failed: Model not found: gpt-3.5-turbo
2026-01-01 00:44:29 - app.services.ai_service - INFO - Successfully generated response using gpt-4
2026-01-01 00:44:48 - app.services.ai_service - WARNING - Model gpt-3.5-turbo failed: Model not found: gpt-3.5-turbo
2026-01-01 00:44:50 - app.services.ai_service - INFO - Successfully generated response using gpt-4
2026-01-01 00:45:42 - app.services.ai_service - WARNING - Model gpt-3.5-turbo failed: Model not found: gpt-3.5-turbo
2026-01-01 00:45:45 - app.services.ai_service - INFO - Successfully generated response using gpt-4
2026-01-01 13:50:31 - app.main - INFO - Starting Telegram AI Bot...
2026-01-01 13:50:31 - app.database.connection - INFO - Connected to database: telegram_bot.db
2026-01-01 13:50:31 - app.main - INFO - Database connected
2026-01-01 13:50:34 - app.services.ai_service - INFO - AI Service initialized with provider: g4f
2026-01-01 13:50:34 - app.main - INFO - Application startup completed
2026-01-01 13:50:34 - app.main - INFO - Starting bot polling...
2026-01-01 13:51:14 - app.services.ai_service - WARNING - Model gpt-3.5-turbo failed: Model not found: gpt-3.5-turbo
2026-01-01 13:51:17 - app.services.ai_service - INFO - Successfully generated response using gpt-4
2026-01-01 13:51:29 - app.services.ai_service - WARNING - Model gpt-3.5-turbo failed: Model not found: gpt-3.5-turbo
2026-01-01 13:51:32 - app.services.ai_service - INFO - Successfully generated response using gpt-4
2026-01-01 13:52:47 - app.services.ai_service - WARNING - Model gpt-3.5-turbo failed: Model not found: gpt-3.5-turbo
2026-01-01 13:52:55 - app.services.ai_service - INFO - Successfully generated response using gpt-4
2026-01-01 13:53:20 - app.services.ai_service - WARNING - Model gpt-3.5-turbo failed: Model not found: gpt-3.5-turbo
2026-01-01 13:53:29 - app.services.ai_service - INFO - Successfully generated response using gpt-4
2026-01-01 13:53:41 - app.services.ai_service - WARNING - Model gpt-3.5-turbo failed: Model not found: gpt-3.5-turbo
2026-01-01 13:53:43 - app.services.ai_service - INFO - Successfully generated response using gpt-4
2026-01-01 13:54:19 - app.services.ai_service - WARNING - Model gpt-3.5-turbo failed: Model not found: gpt-3.5-turbo
2026-01-01 13:54:23 - app.services.ai_service - INFO - Successfully generated response using gpt-4
2026-01-01 13:54:59 - app.services.ai_service - WARNING - Model gpt-3.5-turbo failed: Model not found: gpt-3.5-turbo
2026-01-01 13:55:04 - app.services.ai_service - INFO - Successfully generated response using gpt-4
2026-01-01 13:56:46 - app.main - INFO - Received signal 2, initiating shutdown...
2026-01-01 13:56:51 - app.main - INFO - Received signal 2, initiating shutdown...
2026-01-01 13:56:51 - app.main - INFO - Received signal 2, initiating shutdown...
2026-01-01 14:09:15 - app.main - INFO - Received signal 2, initiating shutdown...
